{{ $page := . }}
{{ $image := .Resources.GetMatch "campfire-sky.jpg" }}

<!doctype html>
{{ partial "paige/html.html" $page }}
    {{ partial "paige/head.html" $page }}
    <style>
      body {
        font-size: 140%;
        background-color: black;
      }

      #campfire-root {
        background-color: black;
        background-image: url("{{ $image.RelPermalink }}");
        background-size: 100% auto;
        background-position: top center;
        background-repeat: no-repeat;
      }

      #campfire-row {
        background: linear-gradient(to bottom, rgba(3, 79, 172, 0.3) 0px, rgba(0, 0, 0, 0.0) 900px, rgba(165, 25, 25, 0.5) 100%);
        display: flex;
        flex-direction: row;
      }

      #campfire-page {
        background: linear-gradient(to bottom, rgba(0, 0, 0, 0.5), rgba(165, 25, 25, 0.5));
        max-width: 800px;
        padding: 0 50px;
        margin: 0 auto;
      }
    </style>

    {{ partial "paige/body.html" $page }}
        {{ if templates.Exists "partials/paige/body-first.html" }}
            {{ partial "paige/body-first.html" $page }}
        {{ end }}

        <div id="campfire-root">
          <div id="campfire-row">
            <div id="campfire-page">
              {{ partial "paige/header.html" $page }}

              <main class="mt-3" id="paige-main">
                  {{ if templates.Exists "partials/paige/main-first.html" }}
                      {{ partial "paige/main-first.html" $page }}
                  {{ end }}

                  {{ block "main" $page }}{{ end }}

                  {{ if templates.Exists "partials/paige/main-last.html" }}
                      {{ partial "paige/main-last.html" $page }}
                  {{ end }}
              </main>

              {{ partial "paige/footer.html" $page }}
            </div>
          </div>

          {{ partial "paige/scripts.html" $page }}

          {{ if templates.Exists "partials/paige/body-last.html" }}
              {{ partial "paige/body-last.html" $page }}
          {{ end }}
          </div>
    </body>
</html>
